"use strict";(self.webpackChunkvioletasystem=self.webpackChunkvioletasystem||[]).push([[911],{4567:(O,C,r)=>{r.d(C,{e:()=>i});var s=r(5861),e=r(9397),m=r(2096),p=r(553),f=r(5879),h=r(9862),S=r(4857);let i=(()=>{class c{constructor(o,g){this.http=o,this.servicesGServ=g,this.baseURL=p.N.baseUrl,this._api="api/auth"}CLogin(o){return this.http.post(`${this.baseURL}/${this._api}/login`,o).pipe((0,e.b)(g=>{0==g.status&&(this._userLogin=g.data.user,localStorage.setItem("idUser",JSON.stringify(g.data.user.idUser)),localStorage.setItem("user",JSON.stringify(g.data.user)),localStorage.setItem("token",JSON.stringify(g.data.token)))}))}get userLogin(){if(localStorage.getItem("user"))return JSON.parse(localStorage.getItem("user").toString())}logout(o){localStorage.removeItem("user"),localStorage.removeItem("idUser"),localStorage.removeItem("token"),o&&this.servicesGServ.changeRoute("/login")}validaAuth(){return localStorage.getItem("user")?(0,m.of)(!0):(0,m.of)(!1)}getMenuByPermissions(o){return this.http.post(`${this.baseURL}/${this._api}/getMenuByPermissions`,{idUser:o})}checkSession(){var o=this;return(0,s.Z)(function*(){0==o.getIdUserSession()&&(o.logout(!1),o.servicesGServ.changeRoute("/"))})()}getIdUserSession(){return localStorage.getItem("idUser")?+localStorage.getItem("idUser").toString():0}}return c.\u0275fac=function(o){return new(o||c)(f.LFG(h.eN),f.LFG(S.$))},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},822:(O,C,r)=>{r.d(C,{K:()=>f});var s=r(6814),e=r(6223),m=r(7361),p=r(5879);let f=(()=>{class h{}return h.\u0275fac=function(i){return new(i||h)},h.\u0275mod=p.oAB({type:h}),h.\u0275inj=p.cJS({imports:[s.ez,e.u5,m.q]}),h})()},7290:(O,C,r)=>{r.d(C,{O:()=>S});var s=r(5879),e=r(6814),m=r(5940);function p(i,c){}function f(i,c){if(1&i&&(s.ynx(0),s.TgZ(1,"div",2)(2,"div",3),s.YNc(3,p,0,0,"ng-template",4),s.qZA()(),s.BQk()),2&i){s.oxw();const u=s.MAs(2);s.xp6(3),s.Q6J("ngTemplateOutlet",u)}}function h(i,c){if(1&i&&s._UZ(0,"mat-progress-spinner",5),2&i){const u=s.oxw();s.Q6J("diameter",u.diameter)("mode","indeterminate")("color",u.color)("strokeWidth",u.strokeWidth)}}let S=(()=>{class i{constructor(){this.diameter=100,this.strokeWidth=10,this.bProgressSpinner=!0,this.color="success"}ngOnInit(){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-spinner"]],decls:3,vars:1,consts:[[4,"ngIf"],["progressSpinner",""],[1,"overlay"],[1,"center"],[3,"ngTemplateOutlet"],[3,"diameter","mode","color","strokeWidth"]],template:function(u,o){1&u&&(s.YNc(0,f,4,1,"ng-container",0),s.YNc(1,h,1,4,"ng-template",null,1,s.W1O)),2&u&&s.Q6J("ngIf",o.bProgressSpinner)},dependencies:[e.O5,e.tP,m.Ou]}),i})()},4857:(O,C,r)=>{r.d(C,{$:()=>g});var s=r(7700),e=r(5879),m=r(2296);let p=(()=>{class l{constructor(a,t){this.dialogRef=a,this.data=t}ngOnInit(){}delete(){this.dialogRef.close(!0)}close(){this.dialogRef.close()}}return l.\u0275fac=function(a){return new(a||l)(e.Y36(s.so),e.Y36(s.WI))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-confirm"]],decls:13,vars:5,consts:[[2,"padding","10px"],["mat-button","","color","warn",3,"click"],["mat-button","",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p"),e._uU(5),e._UZ(6,"br"),e._uU(7),e.qZA(),e.TgZ(8,"div")(9,"button",1),e.NdJ("click",function(){return t.delete()}),e._uU(10),e.qZA(),e.TgZ(11,"button",2),e.NdJ("click",function(){return t.close()}),e._uU(12),e.qZA()()()),2&a&&(e.xp6(2),e.Oqu(t.data.header),e.xp6(3),e.hij(" ",t.data.message," "),e.xp6(2),e.hij(" ",t.data.question," "),e.xp6(3),e.Oqu(t.data.buttonYes),e.xp6(2),e.Oqu(t.data.buttonNo))},dependencies:[m.lW]}),l})();var f=r(6814);function h(l,E){1&l&&e._UZ(0,"img",9)}function S(l,E){1&l&&e._UZ(0,"img",10)}let i=(()=>{class l{constructor(a,t){this.dialogRef=a,this.data=t}ngOnInit(){"S"==this.data.type&&setTimeout(()=>{this.close()},3e3)}delete(){this.dialogRef.close(!0)}close(){this.dialogRef.close()}}return l.\u0275fac=function(a){return new(a||l)(e.Y36(s.so),e.Y36(s.WI))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-alert"]],decls:15,vars:4,consts:[[2,"padding","20px"],[1,"row"],[1,"col-md-2"],["width","60","class","manitaSobre","src","assets/img/icons/warning.gif","alt","",4,"ngIf"],["width","60","class","manitaSobre","src","assets/img/icons/aceptado.gif","alt","",4,"ngIf"],[1,"col-md-10"],[2,"margin","10px","margin-left","40px"],[1,"col-md-12"],["mat-button","",3,"click"],["width","60","src","assets/img/icons/warning.gif","alt","",1,"manitaSobre"],["width","60","src","assets/img/icons/aceptado.gif","alt","",1,"manitaSobre"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,h,1,0,"img",3),e.YNc(4,S,1,0,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"h1",6),e._uU(7),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",7)(10,"h2"),e._uU(11),e.qZA()()(),e.TgZ(12,"div")(13,"button",8),e.NdJ("click",function(){return t.close()}),e._uU(14,"Cerrar"),e.qZA()()()),2&a&&(e.xp6(3),e.Q6J("ngIf","W"==t.data.type),e.xp6(1),e.Q6J("ngIf","S"==t.data.type),e.xp6(3),e.Oqu(t.data.header),e.xp6(4),e.Oqu(t.data.message))},dependencies:[f.O5,m.lW]}),l})();var c=r(2939),u=r(3403),o=r(3651);let g=(()=>{class l{constructor(a,t,n,_){this._snackBar=a,this.router=t,this.dialog=n,this.overlay=_,this._dDialog={header:"",message:"",question:"",buttonYes:"",buttonNo:""}}showSnakbar(a){this._snackBar.open(a,"Close",{duration:2500})}changeRoute(a){this.router.navigate([a])}changeRouteWithParameter(a,t){this.router.navigate([a,t])}showDialog(a,t,n,_,d){return this._dDialog.header=a,this._dDialog.message=t,this._dDialog.question=n,this._dDialog.buttonYes=_,this._dDialog.buttonNo=d,this.dialog.open(p,{width:"250px",data:this._dDialog})}showModalWithParams(a,t,n){return this.overlay.scrollStrategies.reposition(),this.dialog.open(a,{width:n,data:t,autoFocus:!1,maxHeight:"100vh"})}showMDL(a,t,n,_,d){return this._dDialog.header=a,this._dDialog.message=t,this._dDialog.question=n,this._dDialog.buttonYes=_,this._dDialog.buttonNo=d,this.dialog.open(p,{width:"250px",data:this._dDialog})}showAlert(a,t,n,_=!1){const v=this.dialog.open(i,{width:"auto",data:{type:a,header:t,message:n}});return _&&this.showSnakbar(n),v}showAlertIA(a){var _=a.message;const v=this.dialog.open(i,{width:"auto",data:{type:0==a.status?"S":"W",header:0==a.status?"OK!":"Alerta!",message:_}});return this.showSnakbar(_),v}Unidades(a){switch(a){case 1:return"UN";case 2:return"DOS";case 3:return"TRES";case 4:return"CUATRO";case 5:return"CINCO";case 6:return"SEIS";case 7:return"SIETE";case 8:return"OCHO";case 9:return"NUEVE"}return""}Decenas(a){var t=Math.floor(a/10),n=a-10*t;switch(t){case 1:switch(n){case 0:return"DIEZ";case 1:return"ONCE";case 2:return"DOCE";case 3:return"TRECE";case 4:return"CATORCE";case 5:return"QUINCE";default:return"DIECI"+this.Unidades(n)}case 2:return 0===n?"VEINTE":"VEINTI"+this.Unidades(n);case 3:return this.DecenasY("TREINTA",n);case 4:return this.DecenasY("CUARENTA",n);case 5:return this.DecenasY("CINCUENTA",n);case 6:return this.DecenasY("SESENTA",n);case 7:return this.DecenasY("SETENTA",n);case 8:return this.DecenasY("OCHENTA",n);case 9:return this.DecenasY("NOVENTA",n);case 0:return this.Unidades(n);default:return""}}DecenasY(a,t){return t>0?a+" Y "+this.Unidades(t):a}Centenas(a){var t=Math.floor(a/100),n=a-100*t;switch(t){case 1:return n>0?"CIENTO "+this.Decenas(n):"CIEN";case 2:return"DOSCIENTOS "+this.Decenas(n);case 3:return"TRESCIENTOS "+this.Decenas(n);case 4:return"CUATROCIENTOS "+this.Decenas(n);case 5:return"QUINIENTOS "+this.Decenas(n);case 6:return"SEISCIENTOS "+this.Decenas(n);case 7:return"SETECIENTOS "+this.Decenas(n);case 8:return"OCHOCIENTOS "+this.Decenas(n);case 9:return"NOVECIENTOS "+this.Decenas(n)}return this.Decenas(n)}Seccion(a,t,n,_){var d=Math.floor(a/t),v=a-d*t,D="";return d>0&&(D=d>1?this.Centenas(d)+" "+_:n),v>0&&(D+=""),D}Miles(a){var t=1e3,_=a-Math.floor(a/t)*t,d=this.Seccion(a,t,"UN MIL","MIL"),v=this.Centenas(_);return""==d?v:d+" "+v}Millones(a){var t=1e6,_=a-Math.floor(a/t)*t;let d=this.Seccion(a,t,this.millon(a,!0),this.millon(a,!1));var v=this.Miles(_);return""==d?v:d+" "+v}millon(a,t){var n="";return n=1==t?"UN MILLON":"MILLONES",a%1e6==0&&(n+=" DE"),n}NumeroALetras(a){var t={numero:a,enteros:Math.floor(a),centavos:Math.round(100*a)-100*Math.floor(a),letrasCentavos:"",letrasMonedaPlural:"PESOS",letrasMonedaSingular:"PESO",letrasMonedaCentavoPlural:"CENTAVOS",letrasMonedaCentavoSingular:"CENTAVO"};return t.centavos>0&&(t.letrasCentavos=this.Millones(t.centavos)+" "+t.letrasMonedaCentavoSingular),0==t.enteros?"CERO "+t.letrasMonedaPlural+" "+t.letrasCentavos+" 00/100 M.N":1==t.enteros?this.Millones(t.enteros)+" "+t.letrasMonedaSingular+" "+t.letrasCentavos+" 00/100 M.N":this.Millones(t.enteros)+" "+t.letrasMonedaPlural+" "+t.letrasCentavos+" 00/100 M.N"}}return l.\u0275fac=function(a){return new(a||l)(e.LFG(c.ux),e.LFG(u.F0),e.LFG(s.uw),e.LFG(o.aV))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},553:(O,C,r)=>{r.d(C,{N:()=>s});const s={production:!1,baseUrl:"https://violeta.api.ruitza.com/",appMain:"VioletaSistem",bSend:0,idSucursal:1}},5861:(O,C,r)=>{function s(m,p,f,h,S,i,c){try{var u=m[i](c),o=u.value}catch(g){return void f(g)}u.done?p(o):Promise.resolve(o).then(h,S)}function e(m){return function(){var p=this,f=arguments;return new Promise(function(h,S){var i=m.apply(p,f);function c(o){s(i,h,S,c,u,"next",o)}function u(o){s(i,h,S,c,u,"throw",o)}c(void 0)})}}r.d(C,{Z:()=>e})}}]);