"use strict";(self.webpackChunkvioletasystem=self.webpackChunkvioletasystem||[]).push([[175],{8175:(M,u,e)=>{e.r(u),e.d(u,{AuthModule:()=>b});var d=e(6814),s=e(6223),a=e(3403),t=e(5879),p=e(4567),c=e(4320),l=e(9157),h=e(4516),v=e(617),f=e(7290);function g(n,r){1&n&&t._UZ(0,"app-spinner")}let S=(()=>{class n{constructor(o,i,m){this.fb=o,this.authServ=i,this.servicesGServ=m,this.hidePwd=!0,this.bShowSpinner=!1,this.myLogin=this.fb.group({username:["",[s.kI.required]],pwd:["",[s.kI.required]]}),this.authServ.getIdUserSession()>0?this.servicesGServ.changeRoute("/VioletaSistem/dashboard"):this.authServ.logout(!1)}fn_login(){this.myLogin.valid&&(this.bShowSpinner=!0,this.authServ.CLogin(this.myLogin.value).subscribe({next:o=>{0===o.status?this.servicesGServ.changeRoute("/VioletaSistem/dashboard"):this.servicesGServ.showSnakbar(o.message),this.bShowSpinner=!1},error:o=>{console.log(o),this.servicesGServ.showSnakbar("Problemas con el servicio"),this.bShowSpinner=!1}}))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(s.qu),t.Y36(p.e),t.Y36(c.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:20,vars:5,consts:[["action","","autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12"],["fxLayout.xs","column",2,"width","90%"],["matInput","","type","text","formControlName","username"],["matInput","","formControlName","pwd",3,"type"],["matSuffix","",3,"click"],["type","submit",1,"btnLogin",3,"disabled"],[4,"ngIf"]],template:function(o,i){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.fn_login()}),t.TgZ(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Usuario:"),t.qZA(),t._UZ(6,"input",4),t.qZA()()(),t.TgZ(7,"div",1)(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Contrase\xf1a:"),t.qZA(),t._UZ(12,"input",5),t.TgZ(13,"mat-icon",6),t.NdJ("click",function(){return i.hidePwd=!i.hidePwd}),t._uU(14),t.qZA()()()(),t.TgZ(15,"div",1)(16,"div",2)(17,"button",7),t._uU(18," Login "),t.qZA()()()(),t.YNc(19,g,1,0,"app-spinner",8)),2&o&&(t.Q6J("formGroup",i.myLogin),t.xp6(12),t.Q6J("type",i.hidePwd?"password":"text"),t.xp6(2),t.Oqu(i.hidePwd?"visibility_off":"visibility"),t.xp6(3),t.Q6J("disabled",i.myLogin.invalid),t.xp6(2),t.Q6J("ngIf",i.bShowSpinner))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,l.KE,l.hX,l.R9,h.Nt,v.Hw,f.O]}),n})();var y=e(553),C=e(2651);const A=[{path:"",component:(()=>{class n{constructor(o){this.router=o,this._IconApp=y.N.iconApp}ngOnInit(){this.router.navigate(["./auth/login"])}logout(){localStorage.setItem("token",""),localStorage.setItem("user",""),localStorage.setItem("idUser",""),this.router.navigate(["./auth"])}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(a.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main"]],decls:9,vars:1,consts:[["fullscreen",""],[1,"container"],[1,"loginDiv","textAlingCenter"],[1,"row"],[1,"col-md-12"],[1,"divIconUp"],["width","60","alt","",3,"src"]],template:function(o,i){1&o&&(t.TgZ(0,"mat-sidenav-container",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.qZA()()(),t._UZ(7,"br")(8,"router-outlet"),t.qZA()()()),2&o&&(t.xp6(6),t.Q6J("src",i._IconApp,t.LSH))},dependencies:[a.lC,C.TM]}),n})(),children:[{path:"login",component:S},{path:"**",redirectTo:"home"}]}];let L=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.Bz.forChild(A),a.Bz]}),n})();var Z=e(7361),U=e(822);let b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,s.u5,s.UX,L,Z.q,U.K]}),n})()}}]);